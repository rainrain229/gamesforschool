<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>üå∏ Antonyms Challenge</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
body {
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(to bottom right, #f3e5f5, #e1f5fe);
  margin: 0;
  padding: 30px;
}
.container {
  max-width: 720px;
  margin: auto;
  background: #fff;
  padding: 40px 30px;
  border-radius: 25px;
  box-shadow: 0 8px 25px rgba(0,0,0,0.1);
  text-align: center;
  animation: fadeIn 0.6s ease;
}
@keyframes fadeIn { from {opacity:0;} to {opacity:1;} }

h1 {
  color: #8e24aa;
  font-size: 32px;
  margin-bottom: 10px;
}
.directions {
  font-size: 18px;
  color: #444;
  margin-bottom: 25px;
  background: #fce4ec;
  padding: 12px 20px;
  border-radius: 12px;
}
.word {
  font-size: 38px;
  font-weight: 600;
  margin: 20px 0 10px 0;
}
.meaning {
  font-size: 18px;
  color: #555;
  margin-bottom: 20px;
  font-style: italic;
}
button {
  font-family: 'Poppins', sans-serif;
}
.audio-btn, .start-btn, .restart-btn, .music-btn {
  background-color: #8e24aa;
  color: white;
  padding: 10px 18px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  font-size: 16px;
  margin: 8px;
  transition: 0.3s;
}
.audio-btn:hover, .start-btn:hover, .restart-btn:hover, .music-btn:hover {
  background-color: #6a1b9a;
}
.choices {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
  gap: 15px;
  margin-top: 20px;
}
.choice {
  background: #e1f5fe;
  padding: 12px 20px;
  border-radius: 12px;
  font-size: 18px;
  cursor: pointer;
  border: 2px solid transparent;
  transition: 0.3s;
  animation: float 2s ease-in-out infinite alternate;
}
.choice:hover { background-color: #b3e5fc; }
.correct { background-color: #c8e6c9 !important; border-color: green; animation: none !important; }
.wrong { background-color: #ffcdd2 !important; border-color: red; animation: none !important; }
@keyframes float {
  0% { transform: translateY(0px); }
  100% { transform: translateY(-6px); }
}
.feedback {
  font-size: 20px;
  font-weight: 600;
  margin-top: 20px;
  color: #555;
  min-height: 28px;
}
.final-score {
  font-size: 26px;
  font-weight: 600;
  color: #6a1b9a;
  margin-top: 30px;
}
#introScreen { text-align: center; }
#gameScreen { display: none; }
</style>
</head>
<body>

<div class="container" id="introScreen">
  <h1>üå∏ Antonyms Challenge</h1>
  <div class="directions">
    <p><b>Directions:</b> Read each word carefully, understand its meaning, and choose the correct <b>antonym</b> (opposite word) from the options.</p>
    <p>üéµ Tip: Turn your sound on for music and effects!  
    There are 20 questions in total. Click ‚ÄúStart Game‚Äù to begin.</p>
  </div>
  <button class="start-btn" onclick="startGame()">‚ñ∂ Start Game</button>
</div>

<div class="container" id="gameScreen">
  <h1>üå∏ Antonyms Challenge</h1>
  <div class="directions">Choose the antonym of the word shown below.</div>
  <div id="wordDisplay" class="word"></div>
  <div id="meaningBox" class="meaning"></div>
  <div>
    <button class="audio-btn" onclick="playSound()">üîä Listen</button>
    <button class="music-btn" onclick="toggleMusic()">üé∂ Music: On</button>
  </div>
  <div class="choices" id="choicesBox"></div>
  <div id="feedback" class="feedback"></div>
  <div class="final-score" id="scoreBox"></div>
  <button class="restart-btn" id="restartBtn" onclick="restartGame()" style="display:none;">üîÅ Restart Game</button>
</div>

<!-- Background & SFX -->
<audio id="bgMusic" loop preload="auto">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/02/audio_3c2b3e3bb8.mp3?filename=happy-ukulele-110112.mp3" type="audio/mpeg">
</audio>
<audio id="correctSfx" preload="auto">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_6fa43491b2.mp3?filename=correct-2-46134.mp3" type="audio/mpeg">
</audio>
<audio id="wrongSfx" preload="auto">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_cdc9bb97da.mp3?filename=wrong-47985.mp3" type="audio/mpeg">
</audio>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

<script>
const questions = [
  { word: "Allow", correct: "Forbid", options: ["Forbid", "Permit", "Agree", "Share"], meaning: "To give permission." },
  { word: "Silent", correct: "Noisy", options: ["Noisy", "Quiet", "Soft", "Calm"], meaning: "Not making sound." },
  { word: "Build", correct: "Destroy", options: ["Destroy", "Make", "Form", "Fix"], meaning: "To create or make something." },
  { word: "Weak", correct: "Strong", options: ["Strong", "Soft", "Firm", "Hard"], meaning: "Lacking strength." },
  { word: "Expand", correct: "Contract", options: ["Contract", "Stretch", "Enlarge", "Open"], meaning: "To grow larger." },
  { word: "Float", correct: "Sink", options: ["Sink", "Swim", "Move", "Rise"], meaning: "To stay on the surface of water." },
  { word: "Admit", correct: "Deny", options: ["Deny", "Accept", "Believe", "Tell"], meaning: "To say something is true." },
  { word: "Whisper", correct: "Shout", options: ["Shout", "Talk", "Call", "Speak"], meaning: "To speak very softly." },
  { word: "Deep", correct: "Shallow", options: ["Shallow", "Low", "Short", "Narrow"], meaning: "Far down from the surface." },
  { word: "Huge", correct: "Tiny", options: ["Tiny", "Small", "Medium", "Thin"], meaning: "Very large." },
  { word: "Hide", correct: "Show", options: ["Show", "Cover", "Move", "Block"], meaning: "To keep out of sight." },
  { word: "Smooth", correct: "Rough", options: ["Rough", "Soft", "Clean", "Plain"], meaning: "Having an even surface." },
  { word: "Clever", correct: "Foolish", options: ["Foolish", "Smart", "Wise", "Skilled"], meaning: "Smart and quick to learn." },
  { word: "Encourage", correct: "Discourage", options: ["Discourage", "Motivate", "Inspire", "Cheer"], meaning: "To give support or confidence." },
  { word: "Natural", correct: "Artificial", options: ["Artificial", "Real", "Fresh", "Normal"], meaning: "Not made by humans." },
  { word: "Accept", correct: "Refuse", options: ["Refuse", "Welcome", "Take", "Allow"], meaning: "To receive or agree to something." },
  { word: "Cheerful", correct: "Gloomy", options: ["Gloomy", "Joyful", "Bright", "Friendly"], meaning: "Full of happiness." },
  { word: "Tight", correct: "Loose", options: ["Loose", "Firm", "Fit", "Hard"], meaning: "Held firmly, not loose." },
  { word: "Brave", correct: "Fearful", options: ["Fearful", "Bold", "Strong", "Proud"], meaning: "Showing courage." },
  { word: "Arrive", correct: "Depart", options: ["Depart", "Come", "Stay", "Enter"], meaning: "To reach a place." }
];

let current = 0, score = 0, musicPlaying = true;
const bgMusic = document.getElementById("bgMusic");
const correctSfx = document.getElementById("correctSfx");
const wrongSfx = document.getElementById("wrongSfx");

// Set volumes
bgMusic.volume = 0.3;
correctSfx.volume = 0.8;
wrongSfx.volume = 0.8;

function startGame() {
  document.getElementById("introScreen").style.display = "none";
  document.getElementById("gameScreen").style.display = "block";
  score = 0; current = 0;
  startMusic();
  renderQuestion();
}

function startMusic() {
  bgMusic.currentTime = 0;
  bgMusic.play().catch(() => {
    console.warn("User interaction needed to start audio.");
  });
}

function toggleMusic() {
  const btn = document.querySelector(".music-btn");
  if (musicPlaying) {
    musicPlaying = false;
    bgMusic.pause();
    btn.textContent = "üé∂ Music: Off";
  } else {
    musicPlaying = true;
    startMusic();
    btn.textContent = "üé∂ Music: On";
  }
}

function renderQuestion() {
  const q = questions[current];
  document.getElementById("wordDisplay").innerText = q.word;
  document.getElementById("meaningBox").innerText = q.meaning;
  document.getElementById("feedback").innerText = "";
  document.getElementById("scoreBox").innerText = `Question ${current+1} of ${questions.length}`;
  document.getElementById("restartBtn").style.display = "none";

  const choicesBox = document.getElementById("choicesBox");
  choicesBox.innerHTML = "";
  const shuffled = q.options.sort(() => Math.random() - 0.5);
  shuffled.forEach(option => {
    const btn = document.createElement("button");
    btn.className = "choice";
    btn.innerText = option;
    btn.onclick = () => selectAnswer(btn, option, q.correct);
    choicesBox.appendChild(btn);
  });
}

function selectAnswer(button, selected, correct) {
  const choices = document.querySelectorAll(".choice");
  choices.forEach(btn => btn.disabled = true);

  if (selected === correct) {
    button.classList.add("correct");
    document.getElementById("feedback").innerText = "‚úÖ Correct!";
    score++;
    playCorrectSound();
  } else {
    button.classList.add("wrong");
    document.getElementById("feedback").innerText = "‚ùå Incorrect!";
    playWrongSound();
    choices.forEach(btn => {
      if (btn.innerText === correct) btn.classList.add("correct");
    });
  }

  setTimeout(() => {
    current++;
    if (current < questions.length) renderQuestion();
    else endGame();
  }, 1200);
}

function playCorrectSound() {
  correctSfx.currentTime = 0;
  correctSfx.play().catch(() => speechSynthesis.speak(new SpeechSynthesisUtterance("Correct")));
}

function playWrongSound() {
  wrongSfx.currentTime = 0;
  wrongSfx.play().catch(() => speechSynthesis.speak(new SpeechSynthesisUtterance("Wrong")));
}

function endGame() {
  document.getElementById("wordDisplay").innerText = "üéâ Game Over!";
  document.getElementById("meaningBox").innerText = "";
  document.getElementById("choicesBox").innerHTML = "";
  document.getElementById("feedback").innerText = "";
  document.getElementById("scoreBox").innerText = `Final Score: ${score} / ${questions.length}`;
  document.getElementById("restartBtn").style.display = "inline-block";
  triggerConfetti();
}

function restartGame() {
  current = 0; score = 0;
  renderQuestion();
}

function playSound() {
  const word = questions[current].word.toLowerCase();
  const audio = new Audio(`https://ssl.gstatic.com/dictionary/static/sounds/oxford/${word}--_gb_1.mp3`);
  audio.onerror = () => speechSynthesis.speak(new SpeechSynthesisUtterance(word));
  audio.play().catch(() => speechSynthesis.speak(new SpeechSynthesisUtterance(word)));
}

function triggerConfetti() {
  const duration = 3000;
  const end = Date.now() + duration;
  (function frame() {
    confetti({ particleCount: 4, angle: 60, spread: 55, origin: { x: 0 } });
    confetti({ particleCount: 4, angle: 120, spread: 55, origin: { x: 1 } });
    if(Date.now() < end) requestAnimationFrame(frame);
  })();
}
</script>
</body>
</html>
